# Губорыл - GUI для Service.bat

## Важно:

* (!!!) Данное приложение находится в разработке. Возможны баги, краши, потеря работоспособности, несогласованное состояние приложения относительно ядра.
* Поскольку приложению требуется доступ к службам Windows, а также запуск service.bat должен производиться от имени администратора, Guboril автоматически запрашивает админ права при запуске.

## Как это работает?

* Данное приложение написано на Electron (фреймворк Node js для создания десктопных приложений)
* Основные модули
  * Mainwindow - renderer процесс электрона, отрисовка GUI.
  * Zapret.js - API для взаимодействия с Service.bat в формате RPC (Remote Procedure Call), основанный на функции exec из модуля childProcess
  * updateZapret - модуль, предоставляющий функцию для обновления ядра.
  * Main.js - основной (main) процесс электрона, здесь подключаются все модули, настраиваются окна и тп.
  * Preload.js - API мост между Mainwindow и main.js

## Как собрать приложение самому?

* Установите Node JS: https://nodejs.org/en/download, при установке выберите пакетный менеджер NPM
* Скачайте source-код в папку, выполните в ней консольную команду npm i
* Соберите приложение командой npm run build, бинари появятся в папке dist

## Чистое удаление:

* Удалить ядро через кнопку удалить в GUI
* Удалить само приложение
* Удалить службу zapret в приложении Службы
* Выполнить команду `warp-cli tunnel host remove api.github.com`, для проверки: `warp-cli tunnel host list`

## ROADMAP

* [ ] Сделать автоочистку логов
* [ ] Добавить сохранение логов renderer
* [ ] Отладить кнопку `Удалить`
* [ ] Добавить автозапуск
* [ ] Добавить загрузочное окно ака-дс
* [ ] Пофиксить баг несогласованности, возникающий при изменении стратегии, если сервис отключён
