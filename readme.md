# Губорыл - GUI для Service.bat

# [&gt;&gt;&gt; **СКАЧАТЬ** &lt;&lt;&lt;](https://github.com/EnderYeekkay/Guboril/releases/download/Guboril-v1.2.0/GuborilInstaller.exe)

> [!NOTE]
>
> ## БЫСТРАЯ УСТАНОВКА 
>
> * Нажать кнопку `скачать`
> * Запустить установочный `.exe` файл и установить
> * Запустить Guboril.exe двойным щелчком мыши (не обязательно от имени администратора, приложение само запросит себе права через UAC)

> [!IMPORTANT]
>
> * Чтобы удостовериться, что тут всё чисто, проверьте `.exe` файл через [Virustotal](https://www.virustotal.com/gui/home/upload) или ваш антивирус.
> * (!!!) Данное приложение находится в разработке. Возможны баги, краши, потеря работоспособности, несогласованное состояние приложения относительно ядра.
> * Не перезапускайте приложение / не нажимайте `обновить` более 60 раз за час! Иначе из-за ограничений `api.github.com` обновления перестанут работать на ближайший час и из-за недоработки системы контроля версий приложение перестанет запускаться!
> * Поскольку приложению требуется доступ к службам Windows, а также запуск service.bat должен производиться от имени администратора, Guboril автоматически запрашивает админ права при запуске.
> * Приложение для автозапуска использует планировщик задач Windows. Это нужно, чтобы избежать раздражающего окна UAC при каждом запуске Windows. Так что в диспетчере задач в автозагрузках оно отображаться **не будет**!
> * Приложение написано под https://youtu.be/areTnBFkvU4?si=r3659dgYMJXJopOK

> [!WARNING]
> Антивирусы Kaspersky и Windows Defender могут ругаться на файлы из `Appdata/Roaming/Guboril/core`
## Как это работает?

* Данное приложение написано на **Electron** (фреймворк Node js для создания десктопных приложений)
* Приложение работает в режиме `contextIsolation: true` и `NodeIntegration: false`
* Основные модули
  * Mainwindow - renderer процесс электрона, отрисовка GUI
  * Zapret.js - API реализующее взаимодействие с Service.bat в формате RPC (Remote Procedure Call), основанный на функции exec из модуля childProcess
  * updateZapret - модуль, предоставляющий функцию для обновления ядра
  * logger.js - модуль предоставляющий 2 функции для сохранения логов в файлы из main и renderer
  * scheduler.ts - модуль для управление таской автозагрузки приложения
  * Main.js - основной (main) процесс электрона, здесь подключаются все модули, настраиваются окна и тп
  * Preload.js - API мост между Mainwindow и main.js

## Как собрать приложение самому?

Если вы мне не доверяете :C Ну или хотите внести какие-то изменения в код.

* Скачать и установить [Node.js](https://nodejs.org/dist/v25.2.1/node-v25.2.1-x64.msi "Установить Node.Js") (ссылка на скачивание)\. Для проверки ввести в консоль `npm -v` и `node -v`, после этого в консоли должны появится версии.  Чтобы открыть консоль, нужно ввести в поиск windows "cmd" и выбрать "запуск от имени администратора".
* Скачать source code из [Releases](https://github.com/EnderYeekkay/Guboril/releases), распаковать содержимое в пустую папку (не рекомендую скачивать текущий коммит, т.к такая версия кода может оказаться слишком сырой). Выполнить в ней консольную команду ``npm i.`` Чтобы выполнить команду в папке, следует задать каталог через команду  `cd`, подробности тут: https://ab57.ru/cmdlist/cd.html
* Собрать приложение командой ``npm run build`` (cmd должно быть запущено от имени админа), бинари появятся в папке `dist`.
###### ДОПОЛНИТЕЛЬНО:
* Скачать и установить [Inno Setup](https://jrsoftware.org/download.php/is.exe?site=2)
* Задать путь к Inno Setup в файле `package.json` в 10-й строке. Замените`\"A:\\Programs\\Inno Setup 6\\ISCC.exe\"` на путь к .exe файлу.
* Собрать инсталлер командой `npm run mi`, установщик появится в папке `dist/Output`

## Чистое удаление:

* Запустить файл `unins000.exe` из корневой папки Guboril`а
